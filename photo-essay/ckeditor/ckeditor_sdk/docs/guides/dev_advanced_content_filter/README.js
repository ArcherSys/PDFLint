Ext.data.JsonP.dev_advanced_content_filter({"guide":"<!--\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/dev_advanced_content_filter-section-what-is-advanced-content-filter-%28acf%29%3F'>What is Advanced Content Filter (ACF)?</a></li>\n<li>\n<a href='#!/guide/dev_advanced_content_filter-section-automatic-mode'>Automatic Mode</a><ol>\n<li>\n<a href='#!/guide/dev_advanced_content_filter-section-automatic-mode-example'>Automatic Mode Example</a></li>\n</ol>\n<li>\n<a href='#!/guide/dev_advanced_content_filter-section-custom-mode'>Custom Mode</a><ol>\n<li>\n<a href='#!/guide/dev_advanced_content_filter-section-custom-mode-example'>Custom Mode Example</a></li>\n</ol>\n<li>\n<a href='#!/guide/dev_advanced_content_filter-section-content-transformations'>Content Transformations</a></li>\n<li>\n<a href='#!/guide/dev_advanced_content_filter-section-advanced-content-filter-demos'>Advanced Content Filter Demos</a></li>\n<li>\n<a href='#!/guide/dev_advanced_content_filter-section-further-reading'>Further Reading</a></li></ol>\n</div>\nCopyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md.\n-->\n\n\n<h1 id='dev_advanced_content_filter-section-advanced-content-filter'>Advanced Content Filter</h1>\n\n<p class=\"requirements\">\n    Advanced Content Filter was introduced in <strong>CKEditor 4.1</strong>.\n</p>\n\n\n<h2 id='dev_advanced_content_filter-section-what-is-advanced-content-filter-%28acf%29%3F'>What is Advanced Content Filter (ACF)?</h2>\n\n<p>ACF is a highly configurable CKEditor core feature <strong>available since CKEditor 4.1</strong>. It limits and adapts input data (HTML code added in source mode or by the editor.setData method, pasted HTML code, etc.) so it matches the editor configuration in the best possible way. It may also deactivate features which generate HTML code that is not allowed by the configuration.</p>\n\n<p>Advanced Content Filter works in two modes:</p>\n\n<ul>\n<li><strong>automatic</strong> &ndash; the filter is configured by editor features (like plugins, buttons, and commands) that are enabled with configuration options such as CKEDITOR.config.plugins, CKEDITOR.config.extraPlugins, and CKEDITOR.config.toolbar,</li>\n<li><strong>custom</strong> &ndash; the filter is configured by the CKEDITOR.config.allowedContent option and only features that match this setting are activated.</li>\n</ul>\n\n\n<p>In both modes it is possible to extend the filter configuration by using the CKEDITOR.config.extraAllowedContent setting or to trim it down by using the CKEDITOR.config.disallowedContent setting.</p>\n\n<p class=\"tip\">\n    If you want to disable Advanced Content Filter, set CKEDITOR.config.allowedContent to <code>true</code>. All available editor features will be activated and input data will not be filtered. Note that you cannot use CKEDITOR.config.disallowedContent when ACF is disabled.\n</p>\n\n\n<h2 id='dev_advanced_content_filter-section-automatic-mode'>Automatic Mode</h2>\n\n<p>Advanced Content Filter works in automatic mode when the CKEDITOR.config.allowedContent setting is not provided. During editor initialization, editor features add their rules to the filter. As a result, only the content that may be edited using currently loaded features is allowed, and all the rest is filtered out.</p>\n\n<p>Please note that this means that <strong>ACF is tightly connected with editor configuration</strong>. Take the official CKEditor presets (Basic, Standard and Full). Each one of them includes a different set of features (toolbar buttons, keyboard shortcuts, content styles) and as a result, the same content pasted into editor instances with these configurations <a href=\"http://ckeditor.com/demo#acf\">will look completely different</a>, as CKEditor will adjust it to what is available in a particular setup.</p>\n\n<p>Whenever you adjust your editor configuration, for example by using the CKEDITOR.config.removePlugins and CKEDITOR.config.removeButtons methods or customizing the <strong>Format</strong> and <strong>Styles</strong> drop-down lists, these changes will affect the filter and the automatic ACF mode will make the editor remove content corresponding to disabled features.</p>\n\n<h3 id='dev_advanced_content_filter-section-automatic-mode-example'>Automatic Mode Example</h3>\n\n<p>Consider the following configuration for an editor with ACF working in default, automatic mode:</p>\n\n<pre><code>config.removePlugins = 'image,table,tabletools,horizontalrule';\nconfig.removeButtons = 'Anchor,Underline,Strike,Subscript,Superscript';\nconfig.format_tags = 'p;h1;h2;pre';\n</code></pre>\n\n<p>In this setup several tags will not be allowed in the editor because there is no plugin or button that is responsible for creating and editing this kind of content. This pertains to elements such as <code>&lt;img&gt;</code> (Image feature), <code>&lt;table&gt;</code> and its descendants (Table and Table Tools plugins) and <code>&lt;hr&gt;</code> (Horizontal Rule feature) as well as <code>&lt;u&gt;</code>, <code>&lt;s&gt;</code>, <code>&lt;sub&gt;</code> and <code>&lt;sup&gt;</code> that are normally provided by the Basic Styles plugin, but whose buttons were removed in the configuration. The <strong>Format</strong> drop-down list was trimmed down, too, so unsupported formats will also be removed.</p>\n\n<p>See the <a href=\"../samples/acf.html\">Advanced Content Filter &ndash; Automatic Mode</a> sample for a live demonstration.</p>\n\n<p class=\"tip\">\n    If you want to configure the editor to work in automatic mode, but need to enable additional HTML tags, attributes, styles, or classes, use the CKEDITOR.config.extraAllowedContent configuration option. <strong>Since CKEditor 4.4</strong> you can also disallow some of the automatically allowed content by using the CKEDITOR.config.disallowedContent.\n</p>\n\n\n<h2 id='dev_advanced_content_filter-section-custom-mode'>Custom Mode</h2>\n\n<p>Advanced Content Filter works in custom mode when the CKEDITOR.config.allowedContent setting is defined. This configuration option tells the filter which HTML elements, attributes, styles, and classes are allowed. Based on defined rules (called <em>Allowed Content Rules</em>) the editor filters input data and decides which features can be activated.</p>\n\n<p>Allowed Content Rules may be set in two different formats: the compact <strong>string format</strong> and the more powerful <strong>object format</strong>. Read about Allowed Content Rules in the <a href=\"#!/guide/dev_allowed_content_rules\">Allowed Content Rules article</a>.</p>\n\n<p>In custom mode the content filter configuration affects the availability of editor features (toolbar buttons, dialog window tabs and fields, keyboard shortcuts, content styles). If a feature is not explicitely defined as allowed, it will be disabled in editor UI and corresponding content will be removed.</p>\n\n<h3 id='dev_advanced_content_filter-section-custom-mode-example'>Custom Mode Example</h3>\n\n<p>Suppose that CKEDITOR.config.allowedContent is configured as follows:</p>\n\n<pre><code>config.allowedContent = \n    'h1 h2 h3 p blockquote strong em;' +\n    'a[!href];' +\n    'img(left,right)[!src,alt,width,height];';\n</code></pre>\n\n<p>This will have the following effect:</p>\n\n<ul>\n<li><code>h1 h2 h3 p blockquote strong em</code> &ndash; Only these tags are accepted by the editor. Any tag attributes will be discarded.</li>\n<li><code>a[!href]</code> &ndash; The <code>href</code> attribute is obligatory for the <code>&lt;a&gt;</code> tag. Tags without this attribute are discarded. No other attribute will be accepted for the <code>&lt;a&gt;</code> tag.</li>\n<li><code>img(left,right)[!src,alt,width,height]</code> &ndash; The <code>src</code> attribute is obligatory for the <code>&lt;img&gt;</code> tag. The <code>alt</code>, <code>width</code>, <code>height</code> and <code>class</code> attributes are accepted, but <code>class</code> must be either <code>class=\"left\"</code> or <code>class=\"right\"</code>.</li>\n<li>Several toolbar buttons and dialog window fields that are responsible for the features which were not explicitely listed as allowed will be removed. In the Standard editor preset this will mean that, for example, the Strike-through, Numbered List, Bulleted List, Anchor, Table and Horizontal Line toolbar buttons will be gone, just like most of the fields of the Image Properties dialog window and formats from the Format drop-down list.</li>\n</ul>\n\n\n<p>See the <a href=\"http://sdk.ckeditor.com/samples/acf_custom.html\">Advanced Content Filter &ndash; Custom Mode</a> sample for a live demonstration.</p>\n\n<h2 id='dev_advanced_content_filter-section-content-transformations'>Content Transformations</h2>\n\n<p>Advanced Content Filter not only removes disallowed HTML elements, their classes, styles, and attributes, but it also tries to unify input data by transforming one form of an element to another, preferred form.</p>\n\n<p>Consider the Bold feature. In HTML code it may be represented by <code>&lt;strong&gt;</code>, <code>&lt;b&gt;</code>, or even a <code>&lt;span style=\"font-weight:700|800|900|bold\"&gt;</code> element. Suppose that the CKEDITOR.config.allowedContent setting contains only a rule for the <code>&lt;b&gt;</code> element. Does this mean that when pasting the <code>&lt;strong&gt;</code> or <code>&lt;span&gt;</code> element they will be removed?</p>\n\n<p>No. The editor will transform all of them to <code>&lt;b&gt;</code> elements. As a result the editor will contain only <code>&lt;b&gt;</code> elements and the visual form of pasted content will be preserved. Exactly the same will happen if you leave the default CKEDITOR.config.allowedContent value (in <a href=\"#!/guide/dev_advanced_content_filter-section-2\">automatic mode</a>) &mdash; all Bold feature forms will be unified to the preferred <code>&lt;strong&gt;</code> form.</p>\n\n<p>Suppose that the <code>'img[!src,alt,width,height]'</code> setting (<code>&lt;img&gt;</code> tag with required <code>src</code> and three optional attributes) was added to Allowed Content Rules. Image size should be set with attributes, so for example a pasted image whose size was set with styles will be transformed to an image with attributes (note that it will not be possible in all scenarios &mdash; only pixel-based size can be transformed).</p>\n\n<p>The content transformation feature is fully automatic and there is no need to configure it. The only thing you have to do is set the CKEDITOR.config.allowedContent option or use the default value (<a href=\"#!/guide/dev_advanced_content_filter-section-2\">automatic mode</a>).</p>\n\n<p>Currently, we have defined content transformations for only a handful of editor features, but their number will increase in future releases.</p>\n\n<h2 id='dev_advanced_content_filter-section-advanced-content-filter-demos'>Advanced Content Filter Demos</h2>\n\n<p>The following samples are available for two ACF modes:</p>\n\n<ul>\n<li>The <a href=\"http://sdk.ckeditor.com/samples/acf.html\">Advanced Content Filter &ndash; Automatic Mode</a> sample shows the default implementation of ACF and its customization.</li>\n<li>The <a href=\"http://sdk.ckeditor.com/samples/acfcustom.html\">Advanced Content Filter &ndash; Custom Mode</a> sample shows how the custom ACF mode works.</li>\n</ul>\n\n\n<h2 id='dev_advanced_content_filter-section-further-reading'>Further Reading</h2>\n\n<p>Refer to the following resources for more information about content filtering:</p>\n\n<ul>\n<li>The <a href=\"#!/guide/dev_acf\">Content Filtering (ACF)</a> article explains some ACF use cases and the rationale behind this feature.</li>\n<li>The <a href=\"#!/guide/dev_allowed_content_rules\">Allowed Content Rules</a> article explains the allowed and disallowed content rules format.</li>\n<li>The <a href=\"#!/guide/dev_disallowed_content\">Disallowed Content</a> article explains how blacklisting works in ACF.</li>\n<li>The <a href=\"#!/guide/plugin_sdk_integration_with_acf\">Integrating Plugins with Advanced Content Filter</a> article explains how to adjust custom plugins to properly implement content filtering.</li>\n</ul>\n\n","title":"Introduction","meta_description":"Introduction to Advanced Content Filter.","meta_keywords":"ckeditor, editor, wysiwyg, acf, filter, content, filtering, advanced"});